import{az as P,a as O,cP as R,b7 as M,bs as f,aJ as A,b as E,s as S,f as B,aB as t,o as s,h as N,n,B as _,j as g,k as C,m as a,q as i,t as V,F as x,c as T,aN as z,fC as F}from"./index.c8efd86c.js";import{D as j}from"./siteSetting.c485f07c.js";import{c as k,u as q}from"./index.bacaddcb.js";import{u as U}from"./index.eb75c359.js";import{h as H}from"./header.d801b988.js";import"./FullscreenOutlined.5ec4a1b8.js";import"./index.a30146ab.js";import"./useWindowSizeFn.569f2c34.js";import"./useContentViewHeight.833d113a.js";import"./uniqBy.8070035d.js";import"./_baseIteratee.813ccf6c.js";import"./get.a8e0dbdb.js";import"./index.5f5435f2.js";import"./index.79e9bc45.js";import"./useRefs.76e09c0b.js";import"./RedoOutlined.b14ae1e3.js";import"./index.282a8beb.js";import"./lock.878792d9.js";const J=O({name:"UserDropdown",components:{Dropdown:R,Menu:M,MenuItem:k(()=>f(()=>import("./DropMenuItem.a4b308c6.js"),["assets/DropMenuItem.a4b308c6.js","assets/index.c8efd86c.js","assets/index.330bd53a.css"])),MenuDivider:M.Divider,LockAction:k(()=>f(()=>import("./LockModal.ee116084.js"),["assets/LockModal.ee116084.js","assets/LockModal.0068f88c.css","assets/index.c8efd86c.js","assets/index.330bd53a.css","assets/index.eb75c359.js","assets/index.4815a7e8.css","assets/useWindowSizeFn.569f2c34.js","assets/FullscreenOutlined.5ec4a1b8.js","assets/useForm.64137a1f.js","assets/useForm.f5f24b46.css","assets/index.5bccfa61.js","assets/index.86d55544.css","assets/index.d99ed209.js","assets/index.a18cc309.css","assets/_baseIteratee.813ccf6c.js","assets/get.a8e0dbdb.js","assets/useSize.822cfd2a.js","assets/index.59448792.js","assets/index.3a3c1369.css","assets/index.f0acda50.js","assets/index.695a0c50.css","assets/index.8f1c0509.js","assets/index.49ada229.css","assets/index.e7beea07.js","assets/index.47f7c782.css","assets/index.b775b83d.js","assets/index.579bd49e.css","assets/index.650ee6e3.js","assets/index.7b8b5e30.css","assets/index.17fa07c8.js","assets/index.560eb672.css","assets/useRefs.76e09c0b.js","assets/download.b01f8fdc.js","assets/index.a13d6ad9.js","assets/index.88b1d373.css","assets/index.4c128a7b.js","assets/uniqBy.8070035d.js","assets/lock.878792d9.js","assets/header.d801b988.js"])),UserCenter:k(()=>f(()=>import("./UserCenterModal.1f62b6c5.js"),["assets/UserCenterModal.1f62b6c5.js","assets/index.c8efd86c.js","assets/index.330bd53a.css","assets/index.eb75c359.js","assets/index.4815a7e8.css","assets/useWindowSizeFn.569f2c34.js","assets/FullscreenOutlined.5ec4a1b8.js","assets/index.79e9bc45.js","assets/index.a2831ae3.css","assets/useRefs.76e09c0b.js","assets/useForm.64137a1f.js","assets/useForm.f5f24b46.css","assets/index.5bccfa61.js","assets/index.86d55544.css","assets/index.d99ed209.js","assets/index.a18cc309.css","assets/_baseIteratee.813ccf6c.js","assets/get.a8e0dbdb.js","assets/useSize.822cfd2a.js","assets/index.59448792.js","assets/index.3a3c1369.css","assets/index.f0acda50.js","assets/index.695a0c50.css","assets/index.8f1c0509.js","assets/index.49ada229.css","assets/index.e7beea07.js","assets/index.47f7c782.css","assets/index.b775b83d.js","assets/index.579bd49e.css","assets/index.650ee6e3.js","assets/index.7b8b5e30.css","assets/index.17fa07c8.js","assets/index.560eb672.css","assets/download.b01f8fdc.js","assets/index.a13d6ad9.js","assets/index.88b1d373.css","assets/index.4c128a7b.js","assets/uniqBy.8070035d.js","assets/index.808349b6.js","assets/index.ddee09dc.css","assets/index.282a8beb.js"]))},props:{theme:A.oneOf(["dark","light"])},setup(){const{prefixCls:e}=E("header-user-dropdown"),{t:h}=T(),{getShowDoc:v,getUseLockPage:D}=q(),l=S(),y=B(()=>{const{name:r="",avatar:$,desc:b}=l.getUserInfo||{};return{name:r,avatar:$||H,desc:b}}),[o,{openModal:c}]=U(),[p,{openModal:u}]=U();function d(){c(!0)}function m(){l.confirmLoginOut()}function w(){z(j)}function I(){F().then(r=>{u(!0,{record:r})})}function L(r){switch(r.key){case"logout":m();break;case"doc":w();break;case"lock":d();break;case"userCenter":I();break}}return{prefixCls:e,t:h,getUserInfo:y,handleMenuClick:L,getShowDoc:v,register:o,registerUserCenterModal:p,getUseLockPage:D}}}),W=["src"];function G(e,h,v,D,l,y){const o=t("MenuItem"),c=t("MenuDivider"),p=t("Menu"),u=t("Dropdown"),d=t("LockAction"),m=t("UserCenter");return s(),N(x,null,[n(u,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:_(()=>[n(p,{onClick:e.handleMenuClick},{default:_(()=>[e.getShowDoc?(s(),g(o,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):C("",!0),e.getShowDoc?(s(),g(c,{key:1})):C("",!0),n(o,{key:"userCenter",text:e.t("layout.header.tooltipPersonalCenter"),icon:"ion:person-outline"},null,8,["text"]),e.getUseLockPage?(s(),g(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):C("",!0),n(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:_(()=>[a("span",{class:i([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[a("img",{class:i(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,W),a("span",{class:i(`${e.prefixCls}__info hidden md:block`)},[a("span",{class:i([`${e.prefixCls}__name  `,"truncate"])},V(e.getUserInfo.name),3)],2)],2)]),_:1},8,["overlayClassName"]),n(d,{onRegister:e.register},null,8,["onRegister"]),n(m,{onRegister:e.registerUserCenterModal},null,8,["onRegister"])],64)}var me=P(J,[["render",G]]);export{me as default};
