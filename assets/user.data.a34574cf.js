import{f as r,S as m,U as l,x as d}from"./dict.b085f5a7.js";import{f as p}from"./role.fb1ba1ae.js";import{c,fa as f,fb as y}from"./index.c8efd86c.js";const{t:e}=c(),g=[{title:e("sys.user.username"),dataIndex:"username",width:120},{title:e("sys.user.avatar"),dataIndex:"avatarUrl",width:120,slots:{customRender:"avatarUrl"}},{title:e("sys.user.name"),dataIndex:"name",width:120},{title:e("sys.user.deptName"),dataIndex:"deptName",width:180},{title:e("sys.user.googleSecret"),dataIndex:"googleBind",width:200,slots:{customRender:"googleBind"}},{title:e("common.status"),dataIndex:"status",slots:{customRender:"status"}},{title:e("common.createTime"),dataIndex:"createTime"},{title:e("common.updateTime"),dataIndex:"updateTime"}],A=[{field:"username",label:e("sys.user.username"),component:"Input",colProps:{span:8}},{field:"name",label:e("sys.user.name"),component:"Input",colProps:{span:8}},{field:"mobile",label:e("sys.user.mobile"),component:"Input",colProps:{span:8}},{field:"status",label:e("common.status"),component:"Select",componentProps:{options:r},colProps:{span:8}}],w=[{field:"id",label:"id",component:"Input",ifShow:!1},{field:"avatar",label:e("sys.user.avatar"),component:"FileUpload",componentProps:{accept:"image/*",listType:"picture-card"}},{field:"username",label:e("sys.user.username"),component:"Input",dynamicRules:({values:t})=>[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",whitespace:!0},{min:1,max:50,message:"\u7528\u6237\u540D\u957F\u5EA61-50"},{validator(i,s){return new Promise((a,u)=>{if(!(s&&s.trim())){a();return}f(t.id===void 0?null:t.id,s).then(o=>{o?a():u("\u7528\u6237\u540D\u5DF2\u5B58\u5728")}).catch(o=>{u(o.message||"\u9A8C\u8BC1\u5931\u8D25")})})},trigger:"blur"}]},{field:"name",label:e("sys.user.name"),required:!0,component:"Input"},{field:"mobile",label:e("sys.user.mobile"),required:!0,component:"Input",dynamicRules:({values:t})=>[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A",whitespace:!0},{len:11,message:"\u624B\u673A\u53F7\u957F\u5EA6\u4E3A11\u4F4D"},{validator(i,s){return new Promise((a,u)=>{if(!(s&&s.trim())){a();return}y(t.id===void 0?null:t.id,s).then(o=>{o?a():u("\u624B\u673A\u53F7\u5DF2\u5B58\u5728")}).catch(o=>{u(o.message||"\u9A8C\u8BC1\u5931\u8D25")})})},trigger:"blur"}]},{field:"email",label:e("sys.user.email"),required:!0,component:"Input"},{field:"password",label:e("sys.user.password"),component:"StrengthMeter"},{field:"confirmPassword",label:e("sys.user.confirmPassword"),component:"InputPassword"},{field:"roleIds",label:e("sys.user.role"),component:"ApiSelect",componentProps:{api:p,labelField:"name",valueField:"id",mode:"multiple",alwaysLoad:!0}},{field:"deptId",label:e("sys.user.deptName"),component:"TreeSelect",componentProps:{fieldNames:{label:"title",key:"key",value:"key"},getPopupContainer:()=>document.body}},{field:"status",label:e("common.status"),component:"RadioButtonGroup",required:!0,defaultValue:m.NORMAL,componentProps:{options:r}},{field:"remarks",label:e("common.remarks"),component:"InputTextArea"}],n=t=>t===l.USERNAME,P=[{field:"type",label:e("sys.user.unlockMethod"),component:"RadioButtonGroup",defaultValue:l.USERNAME,required:!0,componentProps:{options:d},colProps:{lg:24,md:24}},{field:"lockKey",label:e("sys.user.username"),component:"Input",required:!0,ifShow:({values:t})=>n(t.type)},{field:"lockKey",label:e("sys.user.ip"),component:"Input",required:!0,ifShow:({values:t})=>!n(t.type)}];export{g as c,w as d,A as s,P as u};
