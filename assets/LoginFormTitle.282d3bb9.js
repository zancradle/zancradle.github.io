var b=Object.defineProperty;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var G=(e,o,s)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,y=(e,o)=>{for(var s in o||(o={}))v.call(o,s)&&G(e,s,o[s]);if(p)for(var s of p(o))w.call(o,s)&&G(e,s,o[s]);return e};var F=(e,o,s)=>new Promise((l,i)=>{var R=r=>{try{u(s.next(r))}catch(m){i(m)}},_=r=>{try{u(s.throw(r))}catch(m){i(m)}},u=r=>r.done?l(r.value):Promise.resolve(r.value).then(R,_);u((s=s.apply(e,o)).next())});import{v as x,f as c,c as I,i as t,a as B,o as C,h as S,t as j}from"./index.c8efd86c.js";var n=(e=>(e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.GOOGLE_BIND=2]="GOOGLE_BIND",e[e.GOOGLE_VERIFY=3]="GOOGLE_VERIFY",e[e.RESET_PASSWORD=4]="RESET_PASSWORD",e[e.MOBILE=5]="MOBILE",e[e.QR_CODE=6]="QR_CODE",e))(n||{});const P=x(0);function D(){function e(l){P.value=l}const o=c(()=>P.value);function s(){e(0)}return{setLoginState:e,getLoginState:o,handleBackLogin:s}}function A(e){function o(){return F(this,null,function*(){const s=t(e);return s?yield s.validate():void 0})}return{validForm:o}}function k(e){const{t:o}=I(),s=c(()=>d(o("sys.login.accountPlaceholder"))),l=c(()=>d(o("sys.login.googleCodePlaceholder"))),i=c(()=>d(o("sys.login.passwordPlaceholder"))),R=c(()=>d(o("sys.login.smsPlaceholder"))),_=c(()=>d(o("sys.login.mobilePlaceholder"))),u=(a,O)=>F(this,null,function*(){return O?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder"))}),r=a=>(O,g)=>F(this,null,function*(){return g?g!==a?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"))});return{getFormRules:c(()=>{const a=t(s),O=t(l),g=t(i),h=t(R),T=t(_),f={sms:h,mobile:T},E={googleCode:O};switch(t(P)){case 1:return y({account:a,password:g,confirmPassword:[{validator:r(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:u,trigger:"change"}]},f);case 4:return y({account:a},f);case 5:return f;case 2:case 3:return E;default:return{account:a,password:g}}})}}function d(e){return[{required:!0,message:e,trigger:"change"}]}const L={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},N=B({setup(e){const{t:o}=I(),{getLoginState:s}=D(),l=c(()=>({[n.RESET_PASSWORD]:o("sys.login.forgetFormTitle"),[n.LOGIN]:o("sys.login.signInFormTitle"),[n.GOOGLE_BIND]:o("sys.login.googleBindFormTitle"),[n.GOOGLE_VERIFY]:o("sys.login.googleVerifyFormTitle"),[n.REGISTER]:o("sys.login.signUpFormTitle"),[n.MOBILE]:o("sys.login.mobileSignInFormTitle"),[n.QR_CODE]:o("sys.login.qrSignInFormTitle")})[t(s)]);return(i,R)=>(C(),S("h2",L,j(t(l)),1))}});var Q=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{n as L,N as _,k as a,A as b,Q as c,D as u};
