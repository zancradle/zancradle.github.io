import{B as c,u as d}from"./useTable.2dfc64b8.js";import{T as f}from"./useForm.64137a1f.js";import{l as g,L as h,b}from"./dict.b085f5a7.js";import{dA as a,bS as T,az as D,a as I,c as B,dg as F,eI as x,aB as l,o as C,h as P,n as u,B as Y,eJ as R}from"./index.c8efd86c.js";import{T as S}from"./index.8f1c0509.js";import"./index.f0acda50.js";import"./index.17fa07c8.js";import"./index.95f8610f.js";import"./index.1cc2df02.js";import"./index.ae0eca88.js";import"./useSize.822cfd2a.js";import"./useWindowSizeFn.569f2c34.js";import"./useContentViewHeight.833d113a.js";import"./ArrowLeftOutlined.8ce689d7.js";import"./index.e7beea07.js";import"./index.b775b83d.js";import"./get.a8e0dbdb.js";import"./index.eb75c359.js";import"./FullscreenOutlined.5ec4a1b8.js";import"./index.59448792.js";import"./sortable.esm.c081a59d.js";import"./RedoOutlined.b14ae1e3.js";import"./scrollTo.877bd4fa.js";import"./index.93134645.js";import"./index.8a182ce2.js";import"./index.5bccfa61.js";import"./index.d99ed209.js";import"./_baseIteratee.813ccf6c.js";import"./index.650ee6e3.js";import"./useRefs.76e09c0b.js";import"./download.b01f8fdc.js";import"./index.a13d6ad9.js";import"./index.4c128a7b.js";import"./uniqBy.8070035d.js";const L=[{title:"\u7528\u6237\u540D",dataIndex:"userName",ellipsis:!0},{title:"\u767B\u5F55\u7ED3\u679C",dataIndex:"result",ellipsis:!0,customRender:({record:e})=>{const t=e.result,o=t===h.SUCCESS?"success":"error",s=b.get(t);return T(S,{color:o},()=>s)}},{title:"\u767B\u5F55\u65F6\u95F4",dataIndex:"loginTime",ellipsis:!0},{title:"IP\u5730\u5740",dataIndex:"ip",ellipsis:!0},{title:"\u5730\u533A",dataIndex:"area",ellipsis:!0},{title:"\u7528\u6237\u4EE3\u7406",dataIndex:"userAgent",ellipsis:!0},{title:"\u8BBE\u5907\u540D\u79F0",dataIndex:"deviceName",ellipsis:!0},{title:"\u6D4F\u89C8\u5668\u540D\u79F0",dataIndex:"browserName",ellipsis:!0}],E=[{field:"loginTimeRange",label:"\u767B\u5F55\u65F6\u95F4",component:"RangePicker",defaultValue:[a().startOf("month").format("YYYY-MM-DD HH:mm:ss"),a().endOf("month").format("YYYY-MM-DD HH:mm:ss")],componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss",showTime:!0},colProps:{span:8}},{field:"userName",label:"\u7528\u6237\u540D",component:"Input",colProps:{span:8}},{field:"result",label:"\u767B\u5F55\u7ED3\u679C",component:"Select",componentProps:{options:g},colProps:{span:8}},{field:"ip",label:"IP\u5730\u5740",component:"Input",colProps:{span:8}}],M=I({name:"LoginLogManagement",components:{BasicTable:c,TableAction:f},setup(){const{t:e}=B(),{hasPermission:t}=F(),[i,{reload:o}]=d({api:x,columns:L,formConfig:{labelWidth:120,schemas:E},pagination:!0,striped:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:100,title:e("common.operateText"),dataIndex:"action",slots:{customRender:"action"}}});function s(n){R(n.id).then(()=>o())}function r(){o()}return{t:e,hasPermission:t,registerTable:i,handleDelete:s,handleSuccess:r}}});function _(e,t,i,o,s,r){const n=l("TableAction"),m=l("BasicTable");return C(),P("div",null,[u(m,{onRegister:e.registerTable},{action:Y(({record:p})=>[u(n,{actions:[{icon:"ant-design:delete-outlined",color:"error",tooltip:e.t("common.delText"),ifShow:e.hasPermission("sys:login-log:delete"),popConfirm:{title:e.t("common.delTip"),confirm:e.handleDelete.bind(null,p)}}]},null,8,["actions"])]),_:1},8,["onRegister"])])}var de=D(M,[["render",_]]);export{de as default};
