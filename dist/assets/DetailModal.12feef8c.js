var z=Object.defineProperty,F=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(t,s,n)=>s in t?z(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,o=(t,s)=>{for(var n in s||(s={}))G.call(s,n)&&B(t,n,s[n]);if(j)for(var n of j(s))H.call(s,n)&&B(t,n,s[n]);return t},x=(t,s)=>F(t,q(s));import{B as J}from"./index.eb75c359.js";import{a as S,v as P,b as K,cC as Q,f as g,i as e,n as u,aA as O,cw as T,aC as E,cD as U,cE as X,bc as Y,ax as Z,cF as tt,aI as et,c as st,o as nt,j as rt,B as ot}from"./index.c8efd86c.js";import{D as I}from"./index.808349b6.js";import{g as at}from"./get.a8e0dbdb.js";import{getDescSchema as ct}from"./data.68c65504.js";import"./useWindowSizeFn.569f2c34.js";import"./FullscreenOutlined.5ec4a1b8.js";import"./index.8f1c0509.js";function it(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!T(t)}const lt={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:t=>["small","default","middle",void 0].includes(t),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var ut=S({name:"Description",props:lt,emits:["register"],setup(t,{slots:s,emit:n}){const i=P(null),{prefixCls:y}=K("description"),p=Q(),d=g(()=>o(o({},t),e(i))),h=g(()=>x(o({},e(d)),{title:void 0})),M=g(()=>!!e(d).title),$=g(()=>o({canExpand:!1},e(h).collapseOptions)),A=g(()=>o(o({},e(p)),e(h)));function R(r){i.value=o(o({},e(i)),r)}function k({label:r,labelMinWidth:f,labelStyle:a}){if(!a&&!f)return r;const c=x(o({},a),{minWidth:`${f}px `});return u("div",{style:c},[r])}function N(){const{schema:r,data:f}=e(h);return e(r).map(a=>{const{render:c,field:C,span:L,show:b,contentMinWidth:v}=a;if(b&&O(b)&&!b(f))return null;const w=()=>{var _;const l=(_=e(h))==null?void 0:_.data;if(!l)return null;const m=at(l,C);return m&&!Y(l).hasOwnProperty(C)?O(c)?c("",l):"":O(c)?c(m,l):m!=null?m:""},V=v;return u(I.Item,{label:k(a),key:C,span:L},{default:()=>{if(!v)return w();const l={minWidth:`${V}px`};return u("div",{style:l},[w()])}})}).filter(a=>!!a)}const D=()=>{let r;return u(I,E({class:`${y}`},e(A)),it(r=N())?r:{default:()=>[r]})},W=()=>{const r=t.useCollapse?D():u("div",null,[D()]);if(!t.useCollapse)return r;const{canExpand:f,helpMessage:a}=e($),{title:c}=e(d);return u(X,{title:c,canExpan:f,helpMessage:a},{default:()=>r,action:()=>U(s,"action")})};return n("register",{setDescProps:R}),()=>e(M)?W():D()}});function pt(t){if(!Z())throw new Error("useDescription() can only be used inside setup() or functional components!");const s=P(null),n=P(!1);function i(p){e(n)&&tt()||(s.value=p,t&&p.setDescProps(t),n.value=!0)}return[i,{setDescProps:p=>{var d;(d=e(s))==null||d.setDescProps(p)}}]}const dt=et(ut),Pt=S({props:{info:{type:Object,default:null}},setup(t){const{t:s}=st(),[n]=pt({column:2,schema:ct()});return(i,y)=>(nt(),rt(e(J),E({width:800,title:e(s)("sys.errorLog.tableActionDesc")},i.$attrs),{default:ot(()=>[u(e(dt),{data:t.info,onRegister:e(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{Pt as default};
